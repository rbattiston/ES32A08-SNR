<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>ES32A08 Setup Dashboard</title>
  <link rel="stylesheet" href="css/style.css">
</head>
<body>
  <div class="container">
    <header>
      <h1>ES32A08 Setup Dashboard</h1>
      <nav>
        <a href="/" class="active">Dashboard</a>
        <a href="/modbus.html">MODBUS RTU Tester</a>
        <a href="/scheduler.html">Irrigation Scheduler</a>
        <a href="/wifi.html">WiFi Config</a>
      </nav>
    </header>
    
    <main>
      <!-- Time and Timezone Section -->
      <section class="card" id="time-settings">
        <h2>Time Settings</h2>
        <div class="time-display">
          <div class="time-row">
            <div class="time-label">Current Time:</div>
            <div class="time-value" id="current-time">Loading...</div>
          </div>
          <div class="time-row">
            <div class="time-label">First Sync Time:</div>
            <div class="time-value" id="first-sync-time">Not synchronized yet</div>
          </div>
          <div class="time-row">
            <div class="time-label">Time Zone:</div>
            <div class="time-value">
              <select id="timezone-selector">
                <option value="EST5EDT,M3.2.0/2,M11.1.0/2">Eastern Time (Toronto)</option>
                <option value="CST6CDT,M3.2.0/2,M11.1.0/2">Central Time (Chicago)</option>
                <option value="MST7MDT,M3.2.0/2,M11.1.0/2">Mountain Time (Denver)</option>
                <option value="PST8PDT,M3.2.0/2,M11.1.0/2">Pacific Time (Los Angeles)</option>
                <option value="UTC0">UTC</option>
                <option value="GMT0BST,M3.5.0/1,M10.5.0">United Kingdom (London)</option>
                <option value="CET-1CEST,M3.5.0,M10.5.0/3">Central European Time</option>
                <option value="AEST-10AEDT,M10.1.0,M4.1.0/3">Eastern Australia (Sydney)</option>
              </select>
              <button id="set-timezone">Apply Timezone</button>
            </div>
          </div>
        </div>
      </section>
      
      <!-- SPIFFS Filesystem Information Section -->
      <section class="card" id="filesystem-info">
        <h2>Filesystem Information</h2>
        <div class="filesystem-display">
          <div class="info-row">
            <div class="info-label">Total Space:</div>
            <div class="info-value" id="total-space">Loading...</div>
          </div>
          <div class="info-row">
            <div class="info-label">Used Space:</div>
            <div class="info-value" id="used-space">Loading...</div>
          </div>
          <div class="info-row">
            <div class="info-label">Free Space:</div>
            <div class="info-value" id="free-space">Loading...</div>
          </div>
          <div class="info-row">
            <div class="info-label">Total Files:</div>
            <div class="info-value" id="file-count">Loading...</div>
          </div>
          <div id="file-list-container">
            <h3>Files:</h3>
            <div id="file-list" class="file-list">Loading...</div>
          </div>
          <div class="controls">
            <button id="refresh-fs-info" class="btn-secondary">Refresh Info</button>
          </div>
        </div>
      </section>
      
      <section class="card" id="relay-controls">
        <h2>Relay Outputs</h2>
        <div class="relay-grid">
          <!-- Relay toggles will be populated by JavaScript -->
        </div>
        <div class="controls">
          <button id="all-on">All ON</button>
          <button id="all-off">All OFF</button>
        </div>
      </section>
      
      <section class="card" id="button-status">
        <h2>Button States</h2>
        <div class="button-grid">
          <!-- Button indicators will be populated by JavaScript -->
        </div>
      </section>
      
      <section class="card" id="input-status">
        <h2>Input States (74HC165)</h2>
        <div class="input-grid">
          <!-- Input indicators will be populated by JavaScript -->
        </div>
      </section>
      
      <section class="card" id="analog-inputs">
        <h2>Analog Inputs</h2>
        <div class="analog-section">
          <h3>Voltage Inputs (V)</h3>
          <div class="analog-grid" id="voltage-inputs">
            <!-- Voltage input displays will be populated by JavaScript -->
          </div>
        </div>
        
        <div class="analog-section">
          <h3>Current Inputs (mA)</h3>
          <div class="analog-grid" id="current-inputs">
            <!-- Current input displays will be populated by JavaScript -->
          </div>
        </div>
      </section>
    </main>
    
    <footer>
      <p>ES32A08 Controller Setup Tool</p>
    </footer>
  </div>
  
  <script src="js/dashboard.js"></script>
</body>
</html>